<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <title>Fuentes' Gallery</title>
    <link rel="icon" sizes="180x180" href="imgs/tabimg2.png">
</head>

<body class="bg-img" style="background-image: url(imgs/BG4.gif)">
    <div class="blurcont">
        <div class="opt">
            <a href="index.html" class="nav1">
                <p>HOMEPAGE</p>
            </a>

            <a href="aboutmyself.html" class="nav1">
                <p>ABOUT ME</p>
            </a>

            <a class="current">
                <p>GALLERY</p>
            </a>

            <a class="rsv">
                <p>RESERVE</p>
            </a>
        </div>
        <div class="info">
            <h3 style="text-align: center;">HOVER ON ANY IMAGE FOR MORE DETAILS</h3>
        </div>
        <div class="imgcont">
            <table class="imgcont2">
                <tr>
                    <td>
                        <div class="imged" id="clickMe">
                            <img src="imgs/pic12.jpg" class="img1" id="clickMe2">
                            <p class="imgd">Me, 2008</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic1.jpg" class="img1">
                            <p class="imgd">Me, 2010</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic8.png" class="img1">
                            <p class="imgd">Digital Illustration<br/>2021</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic3.jpg" class="img1">
                            <p class="imgd">Me, 2011</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic6.jpg" class="img1">
                            <p class="imgd">Me, 2009</p>
                        </div>
                    </td>
                </tr> 
                <tr>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic14.jpg" class="img1">
                        <p class="imgd">Me, 2020</p>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic10.png" class="img1">
                            <p class="imgd">Digital Illustration<br/>2021</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic13.jpg" class="img1">
                            <p class="imgd">Me, 2014</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">      
                            <img src="imgs/pic15.png" class="img1">
                            <p class="imgd">Digital Illustration<br/>2022</p>
                        </div>
                    </td>
                    <td>
                        <div class="imged">
                            <img src="imgs/pic11.jpg" class="img1">
                            <p class="imgd">Me, 2023</p>
                        </div>
                    </td>
                </tr>
            </table>
        </div>


 <!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <img src="" alt="">
    </div>
  
</div>
         
</body>
</html>


<script>
let imgedContainer = document.getElementsByClassName("imged");

for(let i = 0 ; i < imgedContainer.length; i++){
    let container = imgedContainer[i];
    let image = container.querySelector("img")    

    if(image){
        let filename = image.getAttribute("src");
        console.log(container);
        container.addEventListener('click', function() {
                handleImageClick(filename, container);
        });
    }
}

function handleImageClick(filename, container){
    //x.style.display = "none";
    console.log("YEPPERS: " + container.innerHTML);


    // Get the modal
    var modal = document.getElementById("myModal");
    var modalContent = modal.querySelector(".modal-content");

    var imgElement = modalContent.querySelector("img");
    imgElement.src = filename;
    imgElement.alt = "Expanded Image";
    imgElement.style.width = "500px";
    imgElement.style.height = "500px";
    imgElement.style.borderRadius = "10px";
    // Get the button that opens the modal
    var btn = container.getElementsByClassName(".img1");
    
    // Get the <span> element that closes the modal
    var span = modalContent.querySelector(".close");
    // Only show the close button when the modal is displayed


    // When the user clicks on the button, open the modal
    container.onclick = function() {
        console.log("TESTTTT")
    modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    if(span){
    span.onclick = function() {
        modal.style.display = "none";
    }
}

 // When the user clicks anywhere outside of the modal, close it
 document.addEventListener('click', function (event) {
            if (!event.target.closest('.modal-content') && !event.target.closest('.imged')) {
                modal.style.display = "none";
            }
        });
}

</script>